<!DOCTYPE html>
<html>
<head>
  <title>Pregunta 4</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <style type="text/css">
    #background{position:absolute; width:99%; height:130%;}
    #fixed {position:absolute; top: 0px; left: 0px;}
  </style>
</head>
<body>
<div>
    <img id="background" src="../../../Imagenes/fondo.jpg"/> 
    
  </div>
<div id="fixed" style="padding-left:30%; padding-top: 10%;">
<br>
    <img src="../../../Imagenes/selloespe.jpg"  width="65%" align="center">
    <h1 style="padding-left:25%;">Pregunta 4</h1>
<p>Mostrar datos XML en una tabla utilizando AJAX.</p>
<style>
    table,th,td {
  border : 1px solid black;
  border-collapse: collapse;
}
th,td {
  padding: 5px;
}

</style>
    <button type="button" onclick="EjecutarAjax()">Mostrar Tabla</button>
    <br><br>
    <table id="demo"></table>

    
<script>
    function EjecutarAjax() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                myFunction(this);
             }
        };
  xhttp.open("GET", "ventas.xml", true);
  xhttp.send();
}
        
  
function myFunction(xml) {
  var i;
  var xmlDoc = xml.responseXML;
  var table="<tr><th>N</th><th>PRODUCTO</th><th>DESCRIPCION</th><th>PRECIO UNITARIO</th><th>CANTIDAD</th><th>PRECIO TOTAL</th></tr>";
  var x = xmlDoc.getElementsByTagName("PRODUCTO");
  for (i = 0; i <x.length; i++) { 
    table += "<tr><td>" +
    x[i].getElementsByTagName("NUMERO")[0].childNodes[0].nodeValue +
    "</td><td>" +
    x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
    "</td><td>" +
		x[i].getElementsByTagName("DESCRIPCION")[0].childNodes[0].nodeValue +
    "</td><td>"+
		x[i].getElementsByTagName("PRECIOU")[0].childNodes[0].nodeValue +
    "</td><td>"+
		x[i].getElementsByTagName("CANTIDAD")[0].childNodes[0].nodeValue +
    "</td><td>"+
		x[i].getElementsByTagName("PRECIOT")[0].childNodes[0].nodeValue +
    "</td></tr>";
  }
  document.getElementById("demo").innerHTML = table;
}
</script>





<!--BOTON DE REGRESO PÃGINA PRINCIPAL-->
<br>
<button onclick="window.location.href='../../../index.html'">Menu principal</button>
</div>

</body>
</html>
